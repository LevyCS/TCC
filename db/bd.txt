CREATE TABLE infoc_nws_tb_categoria (
  id_categoria            int     primary key    auto_increment,
  ds_tema                varchar(255)
 )ENGINE=INNODB;
 
 CREATE TABLE infoc_nws_tb_usuario (
   id_usuario            int        primary key auto_increment,
   nm_usuario            varchar(255),
   ds_email                varchar(255),
   ds_username            varchar(255),
   ds_cpf                varchar(255),
   ds_senha                varchar(255),
   dt_nascimento        date,
   ds_codigo            int,
   bt_adm                bool,
   img_perfil            varchar(1000)
 )ENGINE=INNODB;
 
  CREATE TABLE infoc_nws_tb_evento (
   id_evento            int        primary key    auto_increment,
   id_categoria            int,
   nm_evento            varchar(255),
   ds_duracao            time,
   ds_classificacao        int,
   vl_ingresso            decimal(15,2),
   ds_local                varchar(255),
   dt_min                datetime,
   dt_max                datetime,
   ds_elenco            varchar(1000),
   ds_evento            varchar(1000),
   img_capa                varchar(1000),
   img_fundo            varchar(1000),
   img_sec                varchar(1000),
   bt_ativo				boolean,
   dt_inclusao			datetime,
   ds_genero			varchar(255), 
   FOREIGN KEY (id_categoria) REFERENCES infoc_nws_tb_categoria (id_categoria) 
 )ENGINE=INNODB;
 
 
 CREATE TABLE infoc_nws_tb_calendario (
   id_calendario        int primary key auto_increment,
   id_evento            int,
   dt_evento            datetime,
   FOREIGN KEY (id_evento) REFERENCES infoc_nws_tb_evento (id_evento)
   
 )ENGINE=INNODB;

 CREATE TABLE infoc_nws_tb_calendario_item (
   id_calendario_item   int       primary key auto_increment,
   id_calendario        int,
   hr_evento            time,
   FOREIGN KEY (id_calendario) REFERENCES infoc_nws_tb_calendario(id_calendario)                   
 ) ENGINE=INNODB;
 
 CREATE TABLE infoc_nws_tb_cartao (
   id_cartao            int        primary key auto_increment,
   nr_cartao            varchar(255),
   nm_titular            varchar(255),
   ds_cvc                int,
   dt_vencimento        date,
   ds_cpf                varchar(255)
)ENGINE=INNODB;
 
  CREATE TABLE infoc_nws_tb_venda (
   id_venda                int        primary key auto_increment,
   id_usuario            int,
   id_cartao            int,
    id_evento			int,
    ds_situacao            varchar(255),
   tp_pagamento            varchar(255),
    dt_inclusao				datetime,
   FOREIGN KEY (id_usuario) REFERENCES infoc_nws_tb_usuario (id_usuario),
   FOREIGN KEY (id_cartao) REFERENCES infoc_nws_tb_cartao (id_cartao),
    FOREIGN KEY (id_evento) REFERENCES infoc_nws_tb_evento (id_evento)
   
 )ENGINE=INNODB;
 
 CREATE TABLE infoc_nws_tb_venda_item (
   id_venda_item        int        primary key auto_increment,
   id_venda                int,
   id_calendario_item            int,
   ds_qrcode            varchar(255),
   FOREIGN KEY (id_venda) REFERENCES infoc_nws_tb_venda (id_venda),
   FOREIGN KEY (id_calendario_item) REFERENCES infoc_nws_tb_calendario_item (id_calendario_item)
   
)ENGINE=INNODB;